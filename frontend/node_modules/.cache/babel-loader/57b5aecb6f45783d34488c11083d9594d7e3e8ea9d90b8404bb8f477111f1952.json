{"ast":null,"code":"import \"core-js/modules/es.array.every.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.every.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nimport { defineStore } from 'pinia';\nexport var useUserStore = defineStore('user', {\n  state: function state() {\n    return {\n      id: null,\n      username: '',\n      roles: [],\n      permissions: [],\n      isLoggedIn: false\n    };\n  },\n  actions: {\n    setUserInfo: function setUserInfo(userInfo) {\n      this.id = userInfo.id;\n      this.username = userInfo.username;\n      this.roles = userInfo.roles || [];\n      this.permissions = userInfo.permissions || [];\n      this.isLoggedIn = true;\n    },\n    clearUserInfo: function clearUserInfo() {\n      this.id = null;\n      this.username = '';\n      this.roles = [];\n      this.permissions = [];\n      this.isLoggedIn = false;\n    },\n    // 检查是否有某个权限\n    hasPermission: function hasPermission(permission) {\n      if (this.roles.includes('admin')) return true;\n      return this.permissions.includes(permission);\n    },\n    // 检查是否有某些权限中的任意一个\n    hasAnyPermission: function hasAnyPermission(permissions) {\n      var _this = this;\n      if (this.roles.includes('admin')) return true;\n      return permissions.some(function (permission) {\n        return _this.permissions.includes(permission);\n      });\n    },\n    // 检查是否拥有所有权限\n    hasAllPermissions: function hasAllPermissions(permissions) {\n      var _this2 = this;\n      if (this.roles.includes('admin')) return true;\n      return permissions.every(function (permission) {\n        return _this2.permissions.includes(permission);\n      });\n    }\n  }\n});","map":{"version":3,"names":["defineStore","useUserStore","state","id","username","roles","permissions","isLoggedIn","actions","setUserInfo","userInfo","clearUserInfo","hasPermission","permission","includes","hasAnyPermission","_this","some","hasAllPermissions","_this2","every"],"sources":["C:/Users/indexae/Desktop/scm退货/scm/frontend/src/stores/user.js"],"sourcesContent":["import { defineStore } from 'pinia'\r\n\r\nexport const useUserStore = defineStore('user', {\r\n  state: () => ({\r\n    id: null,\r\n    username: '',\r\n    roles: [],\r\n    permissions: [],\r\n    isLoggedIn: false\r\n  }),\r\n  \r\n  actions: {\r\n    setUserInfo(userInfo) {\r\n      this.id = userInfo.id\r\n      this.username = userInfo.username\r\n      this.roles = userInfo.roles || []\r\n      this.permissions = userInfo.permissions || []\r\n      this.isLoggedIn = true\r\n    },\r\n    \r\n    clearUserInfo() {\r\n      this.id = null\r\n      this.username = ''\r\n      this.roles = []\r\n      this.permissions = []\r\n      this.isLoggedIn = false\r\n    },\r\n    \r\n    // 检查是否有某个权限\r\n    hasPermission(permission) {\r\n      if (this.roles.includes('admin')) return true\r\n      return this.permissions.includes(permission)\r\n    },\r\n    \r\n    // 检查是否有某些权限中的任意一个\r\n    hasAnyPermission(permissions) {\r\n      if (this.roles.includes('admin')) return true\r\n      return permissions.some(permission => this.permissions.includes(permission))\r\n    },\r\n    \r\n    // 检查是否拥有所有权限\r\n    hasAllPermissions(permissions) {\r\n      if (this.roles.includes('admin')) return true\r\n      return permissions.every(permission => this.permissions.includes(permission))\r\n    }\r\n  }\r\n}) "],"mappings":";;;;;;;;AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,IAAMC,YAAY,GAAGD,WAAW,CAAC,MAAM,EAAE;EAC9CE,KAAK,EAAE,SAAPA,KAAKA,CAAA;IAAA,OAAS;MACZC,EAAE,EAAE,IAAI;MACRC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,UAAU,EAAE;IACd,CAAC;EAAA,CAAC;EAEFC,OAAO,EAAE;IACPC,WAAW,WAAXA,WAAWA,CAACC,QAAQ,EAAE;MACpB,IAAI,CAACP,EAAE,GAAGO,QAAQ,CAACP,EAAE;MACrB,IAAI,CAACC,QAAQ,GAAGM,QAAQ,CAACN,QAAQ;MACjC,IAAI,CAACC,KAAK,GAAGK,QAAQ,CAACL,KAAK,IAAI,EAAE;MACjC,IAAI,CAACC,WAAW,GAAGI,QAAQ,CAACJ,WAAW,IAAI,EAAE;MAC7C,IAAI,CAACC,UAAU,GAAG,IAAI;IACxB,CAAC;IAEDI,aAAa,WAAbA,aAAaA,CAAA,EAAG;MACd,IAAI,CAACR,EAAE,GAAG,IAAI;MACd,IAAI,CAACC,QAAQ,GAAG,EAAE;MAClB,IAAI,CAACC,KAAK,GAAG,EAAE;MACf,IAAI,CAACC,WAAW,GAAG,EAAE;MACrB,IAAI,CAACC,UAAU,GAAG,KAAK;IACzB,CAAC;IAED;IACAK,aAAa,WAAbA,aAAaA,CAACC,UAAU,EAAE;MACxB,IAAI,IAAI,CAACR,KAAK,CAACS,QAAQ,CAAC,OAAO,CAAC,EAAE,OAAO,IAAI;MAC7C,OAAO,IAAI,CAACR,WAAW,CAACQ,QAAQ,CAACD,UAAU,CAAC;IAC9C,CAAC;IAED;IACAE,gBAAgB,WAAhBA,gBAAgBA,CAACT,WAAW,EAAE;MAAA,IAAAU,KAAA;MAC5B,IAAI,IAAI,CAACX,KAAK,CAACS,QAAQ,CAAC,OAAO,CAAC,EAAE,OAAO,IAAI;MAC7C,OAAOR,WAAW,CAACW,IAAI,CAAC,UAAAJ,UAAU;QAAA,OAAIG,KAAI,CAACV,WAAW,CAACQ,QAAQ,CAACD,UAAU,CAAC;MAAA,EAAC;IAC9E,CAAC;IAED;IACAK,iBAAiB,WAAjBA,iBAAiBA,CAACZ,WAAW,EAAE;MAAA,IAAAa,MAAA;MAC7B,IAAI,IAAI,CAACd,KAAK,CAACS,QAAQ,CAAC,OAAO,CAAC,EAAE,OAAO,IAAI;MAC7C,OAAOR,WAAW,CAACc,KAAK,CAAC,UAAAP,UAAU;QAAA,OAAIM,MAAI,CAACb,WAAW,CAACQ,QAAQ,CAACD,UAAU,CAAC;MAAA,EAAC;IAC/E;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}