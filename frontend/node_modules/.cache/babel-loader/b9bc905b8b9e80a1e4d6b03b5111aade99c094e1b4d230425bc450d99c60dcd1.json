{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"supplier-container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"header\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_input = _resolveComponent(\"el-input\");\n  var _component_el_form_item = _resolveComponent(\"el-form-item\");\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_el_form = _resolveComponent(\"el-form\");\n  var _component_el_table_column = _resolveComponent(\"el-table-column\");\n  var _component_el_tag = _resolveComponent(\"el-tag\");\n  var _component_el_button_group = _resolveComponent(\"el-button-group\");\n  var _component_el_table = _resolveComponent(\"el-table\");\n  var _component_el_pagination = _resolveComponent(\"el-pagination\");\n  var _component_el_radio = _resolveComponent(\"el-radio\");\n  var _component_el_radio_group = _resolveComponent(\"el-radio-group\");\n  var _component_el_dialog = _resolveComponent(\"el-dialog\");\n  var _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_form, {\n    inline: true,\n    model: $setup.queryParams,\n    \"class\": \"search-form\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_form_item, {\n        label: \"供应商名称\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_input, {\n            modelValue: $setup.queryParams.name,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n              return $setup.queryParams.name = $event;\n            }),\n            placeholder: \"请输入供应商名称\",\n            clearable: \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"联系电话\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_input, {\n            modelValue: $setup.queryParams.phone,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n              return $setup.queryParams.phone = $event;\n            }),\n            placeholder: \"请输入联系电话\",\n            clearable: \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, null, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: $setup.handleQuery\n          }, {\n            \"default\": _withCtx(function () {\n              return _cache[12] || (_cache[12] = [_createTextVNode(\"查询\")]);\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_button, {\n            onClick: $setup.resetQuery\n          }, {\n            \"default\": _withCtx(function () {\n              return _cache[13] || (_cache[13] = [_createTextVNode(\"重置\")]);\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\"]), $setup.hasPermission('basic', 'add') ? (_openBlock(), _createBlock(_component_el_button, {\n    key: 0,\n    type: \"primary\",\n    onClick: $setup.handleAdd\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[14] || (_cache[14] = [_createTextVNode(\"新增供应商\")]);\n    }),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)]), _withDirectives((_openBlock(), _createBlock(_component_el_table, {\n    data: $setup.supplierList\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_table_column, {\n        type: \"index\",\n        label: \"序号\",\n        width: \"50\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"name\",\n        label: \"供应商名称\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"contact\",\n        label: \"联系人\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"phone\",\n        label: \"联系电话\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"address\",\n        label: \"地址\",\n        \"show-overflow-tooltip\": \"\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"email\",\n        label: \"邮箱\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"status\",\n        label: \"状态\"\n      }, {\n        \"default\": _withCtx(function (_ref) {\n          var row = _ref.row;\n          return [_createVNode(_component_el_tag, {\n            type: row.status === 1 ? 'success' : 'danger'\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createTextVNode(_toDisplayString(row.status === 1 ? '启用' : '禁用'), 1 /* TEXT */)];\n            }),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"200\",\n        fixed: \"right\"\n      }, {\n        \"default\": _withCtx(function (_ref2) {\n          var row = _ref2.row;\n          return [_createVNode(_component_el_button_group, null, {\n            \"default\": _withCtx(function () {\n              return [$setup.hasPermission('basic', 'edit') ? (_openBlock(), _createBlock(_component_el_button, {\n                key: 0,\n                type: \"primary\",\n                link: \"\",\n                onClick: function onClick($event) {\n                  return $setup.handleEdit(row);\n                }\n              }, {\n                \"default\": _withCtx(function () {\n                  return _cache[15] || (_cache[15] = [_createTextVNode(\"编辑\")]);\n                }),\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true), $setup.hasPermission('basic', 'delete') ? (_openBlock(), _createBlock(_component_el_button, {\n                key: 1,\n                type: \"primary\",\n                link: \"\",\n                onClick: function onClick($event) {\n                  return $setup.handleDelete(row);\n                }\n              }, {\n                \"default\": _withCtx(function () {\n                  return _cache[16] || (_cache[16] = [_createTextVNode(\"删除\")]);\n                }),\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true)];\n            }),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"])), [[_directive_loading, $setup.loading]]), _createVNode(_component_el_pagination, {\n    \"current-page\": $setup.queryParams.pageNum,\n    \"onUpdate:currentPage\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.queryParams.pageNum = $event;\n    }),\n    \"page-size\": $setup.queryParams.pageSize,\n    \"onUpdate:pageSize\": _cache[3] || (_cache[3] = function ($event) {\n      return $setup.queryParams.pageSize = $event;\n    }),\n    total: $setup.total,\n    \"page-sizes\": [10, 20, 30, 50],\n    layout: \"total, sizes, prev, pager, next, jumper\",\n    onSizeChange: $setup.handleSizeChange,\n    onCurrentChange: $setup.handleCurrentChange\n  }, null, 8 /* PROPS */, [\"current-page\", \"page-size\", \"total\"]), _createCommentVNode(\" 添加/编辑对话框 \"), _createVNode(_component_el_dialog, {\n    title: $setup.dialog.title,\n    modelValue: $setup.dialog.visible,\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = function ($event) {\n      return $setup.dialog.visible = $event;\n    }),\n    width: \"500px\",\n    onClose: $setup.handleDialogClose\n  }, {\n    footer: _withCtx(function () {\n      return [_createVNode(_component_el_button, {\n        onClick: _cache[10] || (_cache[10] = function ($event) {\n          return $setup.dialog.visible = false;\n        })\n      }, {\n        \"default\": _withCtx(function () {\n          return _cache[19] || (_cache[19] = [_createTextVNode(\"取 消\")]);\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.handleSubmit\n      }, {\n        \"default\": _withCtx(function () {\n          return _cache[20] || (_cache[20] = [_createTextVNode(\"确 定\")]);\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_form, {\n        ref: \"formRef\",\n        model: $setup.form,\n        rules: $setup.rules,\n        \"label-width\": \"100px\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_form_item, {\n            label: \"供应商名称\",\n            prop: \"name\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.form.name,\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n                  return $setup.form.name = $event;\n                }),\n                placeholder: \"请输入供应商名称\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"联系人\",\n            prop: \"contact\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.form.contact,\n                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = function ($event) {\n                  return $setup.form.contact = $event;\n                }),\n                placeholder: \"请输入联系人\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"联系电话\",\n            prop: \"phone\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.form.phone,\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = function ($event) {\n                  return $setup.form.phone = $event;\n                }),\n                placeholder: \"请输入联系电话\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"邮箱\",\n            prop: \"email\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.form.email,\n                \"onUpdate:modelValue\": _cache[7] || (_cache[7] = function ($event) {\n                  return $setup.form.email = $event;\n                }),\n                placeholder: \"请输入邮箱\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"地址\",\n            prop: \"address\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.form.address,\n                \"onUpdate:modelValue\": _cache[8] || (_cache[8] = function ($event) {\n                  return $setup.form.address = $event;\n                }),\n                type: \"textarea\",\n                placeholder: \"请输入地址\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"状态\",\n            prop: \"status\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_radio_group, {\n                modelValue: $setup.form.status,\n                \"onUpdate:modelValue\": _cache[9] || (_cache[9] = function ($event) {\n                  return $setup.form.status = $event;\n                })\n              }, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_el_radio, {\n                    label: 1\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[17] || (_cache[17] = [_createTextVNode(\"启用\")]);\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_el_radio, {\n                    label: 0\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[18] || (_cache[18] = [_createTextVNode(\"禁用\")]);\n                    }),\n                    _: 1 /* STABLE */\n                  })];\n                }),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\"])];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"title\", \"modelValue\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_form","inline","model","$setup","queryParams","_withCtx","_component_el_form_item","label","_component_el_input","modelValue","name","_cache","$event","placeholder","clearable","_","phone","_component_el_button","type","onClick","handleQuery","_createTextVNode","resetQuery","hasPermission","_createBlock","key","handleAdd","_createCommentVNode","_component_el_table","data","supplierList","_component_el_table_column","width","prop","_ref","row","_component_el_tag","status","_toDisplayString","fixed","_ref2","_component_el_button_group","link","handleEdit","handleDelete","loading","_component_el_pagination","pageNum","pageSize","total","layout","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","_component_el_dialog","title","dialog","visible","onClose","handleDialogClose","footer","handleSubmit","ref","form","rules","contact","email","address","_component_el_radio_group","_component_el_radio"],"sources":["C:\\Users\\indexae\\Desktop\\scm退货\\scm\\frontend\\src\\views\\basic\\supplier\\index.vue"],"sourcesContent":["<template>\r\n  <div class=\"supplier-container\">\r\n    <div class=\"header\">\r\n      <el-form :inline=\"true\" :model=\"queryParams\" class=\"search-form\">\r\n        <el-form-item label=\"供应商名称\">\r\n          <el-input v-model=\"queryParams.name\" placeholder=\"请输入供应商名称\" clearable />\r\n        </el-form-item>\r\n        <el-form-item label=\"联系电话\">\r\n          <el-input v-model=\"queryParams.phone\" placeholder=\"请输入联系电话\" clearable />\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleQuery\">查询</el-button>\r\n          <el-button @click=\"resetQuery\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-button type=\"primary\" @click=\"handleAdd\" v-if=\"hasPermission('basic', 'add')\">新增供应商</el-button>\r\n    </div>\r\n\r\n    <el-table v-loading=\"loading\" :data=\"supplierList\">\r\n      <el-table-column type=\"index\" label=\"序号\" width=\"50\" />\r\n      <el-table-column prop=\"name\" label=\"供应商名称\" />\r\n      <el-table-column prop=\"contact\" label=\"联系人\" />\r\n      <el-table-column prop=\"phone\" label=\"联系电话\" />\r\n      <el-table-column prop=\"address\" label=\"地址\" show-overflow-tooltip />\r\n      <el-table-column prop=\"email\" label=\"邮箱\" />\r\n      <el-table-column prop=\"status\" label=\"状态\">\r\n        <template #default=\"{ row }\">\r\n          <el-tag :type=\"row.status === 1 ? 'success' : 'danger'\">\r\n            {{ row.status === 1 ? '启用' : '禁用' }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"200\" fixed=\"right\">\r\n        <template #default=\"{ row }\">\r\n          <el-button-group>\r\n            <el-button type=\"primary\" link @click=\"handleEdit(row)\" v-if=\"hasPermission('basic', 'edit')\">编辑</el-button>\r\n            <el-button type=\"primary\" link @click=\"handleDelete(row)\" v-if=\"hasPermission('basic', 'delete')\">删除</el-button>\r\n          </el-button-group>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-pagination\r\n      v-model:current-page=\"queryParams.pageNum\"\r\n      v-model:page-size=\"queryParams.pageSize\"\r\n      :total=\"total\"\r\n      :page-sizes=\"[10, 20, 30, 50]\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n    />\r\n\r\n    <!-- 添加/编辑对话框 -->\r\n    <el-dialog\r\n      :title=\"dialog.title\"\r\n      v-model=\"dialog.visible\"\r\n      width=\"500px\"\r\n      @close=\"handleDialogClose\"\r\n    >\r\n      <el-form ref=\"formRef\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\r\n        <el-form-item label=\"供应商名称\" prop=\"name\">\r\n          <el-input v-model=\"form.name\" placeholder=\"请输入供应商名称\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"联系人\" prop=\"contact\">\r\n          <el-input v-model=\"form.contact\" placeholder=\"请输入联系人\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"联系电话\" prop=\"phone\">\r\n          <el-input v-model=\"form.phone\" placeholder=\"请输入联系电话\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"form.email\" placeholder=\"请输入邮箱\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"地址\" prop=\"address\">\r\n          <el-input v-model=\"form.address\" type=\"textarea\" placeholder=\"请输入地址\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\" prop=\"status\">\r\n          <el-radio-group v-model=\"form.status\">\r\n            <el-radio :label=\"1\">启用</el-radio>\r\n            <el-radio :label=\"0\">禁用</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <el-button @click=\"dialog.visible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleSubmit\">确 定</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { usePermissionStore } from '@/stores/permission'\r\n\r\nconst permissionStore = usePermissionStore()\r\nconst hasPermission = permissionStore.hasPermission\r\n\r\n// 查询参数\r\nconst queryParams = reactive({\r\n  pageNum: 1,\r\n  pageSize: 10,\r\n  name: '',\r\n  phone: ''\r\n})\r\n\r\n// 供应商列表数据\r\nconst supplierList = ref([])\r\nconst total = ref(0)\r\nconst loading = ref(false)\r\n\r\n// 对话框控制\r\nconst dialog = reactive({\r\n  visible: false,\r\n  title: ''\r\n})\r\n\r\n// 表单数据\r\nconst formRef = ref(null)\r\nconst form = reactive({\r\n  id: undefined,\r\n  name: '',\r\n  contact: '',\r\n  phone: '',\r\n  email: '',\r\n  address: '',\r\n  status: 1\r\n})\r\n\r\n// 表单校验规则\r\nconst rules = {\r\n  name: [\r\n    { required: true, message: '请输入供应商名称', trigger: 'blur' },\r\n    { min: 2, max: 50, message: '长度在 2 到 50 个字符', trigger: 'blur' }\r\n  ],\r\n  contact: [\r\n    { required: true, message: '请输入联系人', trigger: 'blur' }\r\n  ],\r\n  phone: [\r\n    { required: true, message: '请输入联系电话', trigger: 'blur' },\r\n    { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号码', trigger: 'blur' }\r\n  ],\r\n  email: [\r\n    { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' }\r\n  ],\r\n  status: [\r\n    { required: true, message: '请选择状态', trigger: 'change' }\r\n  ]\r\n}\r\n\r\n// 查询列表数据\r\nconst getList = async () => {\r\n  loading.value = true\r\n  try {\r\n    const response = await fetch(`/api/basic/supplier/list?pageNum=${queryParams.pageNum}&pageSize=${queryParams.pageSize}&name=${queryParams.name}&phone=${queryParams.phone}`)\r\n    const res = await response.json()\r\n    if (res.code === 0) {\r\n      supplierList.value = res.data.list\r\n      total.value = res.data.total\r\n    }\r\n  } catch (error) {\r\n    console.error('获取供应商列表失败:', error)\r\n    ElMessage.error('获取供应商列表失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 查询按钮点击\r\nconst handleQuery = () => {\r\n  queryParams.pageNum = 1\r\n  getList()\r\n}\r\n\r\n// 重置查询\r\nconst resetQuery = () => {\r\n  queryParams.name = ''\r\n  queryParams.phone = ''\r\n  handleQuery()\r\n}\r\n\r\n// 新增按钮点击\r\nconst handleAdd = () => {\r\n  dialog.title = '新增供应商'\r\n  dialog.visible = true\r\n  form.id = undefined\r\n  form.name = ''\r\n  form.contact = ''\r\n  form.phone = ''\r\n  form.email = ''\r\n  form.address = ''\r\n  form.status = 1\r\n}\r\n\r\n// 编辑按钮点击\r\nconst handleEdit = (row) => {\r\n  dialog.title = '编辑供应商'\r\n  dialog.visible = true\r\n  Object.assign(form, row)\r\n}\r\n\r\n// 删除按钮点击\r\nconst handleDelete = (row) => {\r\n  ElMessageBox.confirm('确认要删除该供应商吗？', '警告', {\r\n    type: 'warning'\r\n  }).then(async () => {\r\n    try {\r\n      const response = await fetch(`/api/basic/supplier/${row.id}`, {\r\n        method: 'DELETE'\r\n      })\r\n      const res = await response.json()\r\n      if (res.code === 0) {\r\n        ElMessage.success('删除成功')\r\n        getList()\r\n      }\r\n    } catch (error) {\r\n      console.error('删除供应商失败:', error)\r\n      ElMessage.error('删除供应商失败')\r\n    }\r\n  })\r\n}\r\n\r\n// 提交表单\r\nconst handleSubmit = async () => {\r\n  if (!formRef.value) return\r\n  await formRef.value.validate(async (valid) => {\r\n    if (valid) {\r\n      try {\r\n        const url = form.id ? `/api/basic/supplier/${form.id}` : '/api/basic/supplier'\r\n        const method = form.id ? 'PUT' : 'POST'\r\n        const response = await fetch(url, {\r\n          method,\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(form)\r\n        })\r\n        const res = await response.json()\r\n        if (res.code === 0) {\r\n          ElMessage.success(form.id ? '修改成功' : '新增成功')\r\n          dialog.visible = false\r\n          getList()\r\n        }\r\n      } catch (error) {\r\n        console.error('保存供应商失败:', error)\r\n        ElMessage.error('保存供应商失败')\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// 对话框关闭\r\nconst handleDialogClose = () => {\r\n  if (formRef.value) {\r\n    formRef.value.resetFields()\r\n  }\r\n}\r\n\r\n// 分页大小改变\r\nconst handleSizeChange = (val) => {\r\n  queryParams.pageSize = val\r\n  getList()\r\n}\r\n\r\n// 页码改变\r\nconst handleCurrentChange = (val) => {\r\n  queryParams.pageNum = val\r\n  getList()\r\n}\r\n\r\n// 初始化\r\ngetList()\r\n</script>\r\n\r\n<style scoped>\r\n.supplier-container {\r\n  padding: 20px;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-form {\r\n  flex: 1;\r\n}\r\n\r\n.el-pagination {\r\n  margin-top: 20px;\r\n  justify-content: flex-end;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}