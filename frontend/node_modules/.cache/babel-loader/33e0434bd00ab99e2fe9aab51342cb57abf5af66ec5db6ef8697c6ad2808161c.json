{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { defineStore } from 'pinia';\nimport { ref } from 'vue';\nexport var useAuthStore = defineStore('auth', function () {\n  var userRole = ref('');\n  var username = ref('');\n\n  // 定义不同角色可以访问的模块\n  var rolePermissions = {\n    admin: ['basic', 'product', 'purchase', 'sale', 'warehouse', 'system'],\n    // 管理员可以访问所有模块\n    supplier: ['basic', 'product', 'sale'],\n    // 供应商\n    distributor: ['basic', 'product', 'sale'],\n    // 经销商\n    retailer: ['basic', 'product', 'sale'],\n    // 零售商\n    user: ['sale'] // 普通用户只能访问销售模块\n  };\n\n  // 检查是否有权限访问某个模块\n  var hasPermission = function hasPermission(module) {\n    if (!userRole.value || !rolePermissions[userRole.value]) {\n      return false;\n    }\n    return rolePermissions[userRole.value].includes(module);\n  };\n\n  // 获取当前角色可访问的所有模块\n  var getAccessibleModules = function getAccessibleModules() {\n    return rolePermissions[userRole.value] || [];\n  };\n\n  // 设置用户角色和用户名\n  var setUserInfo = function setUserInfo(role, name) {\n    userRole.value = role;\n    username.value = name;\n  };\n  return {\n    userRole: userRole,\n    username: username,\n    hasPermission: hasPermission,\n    getAccessibleModules: getAccessibleModules,\n    setUserInfo: setUserInfo\n  };\n}, {\n  persist: {\n    enabled: true,\n    strategies: [{\n      storage: localStorage,\n      paths: ['userRole', 'username']\n    }]\n  }\n});","map":{"version":3,"names":["defineStore","ref","useAuthStore","userRole","username","rolePermissions","admin","supplier","distributor","retailer","user","hasPermission","module","value","includes","getAccessibleModules","setUserInfo","role","name","persist","enabled","strategies","storage","localStorage","paths"],"sources":["C:/Users/indexae/Desktop/scm退货/scm/frontend/src/stores/auth.js"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { ref } from 'vue'\r\n\r\nexport const useAuthStore = defineStore('auth', () => {\r\n  const userRole = ref('')\r\n  const username = ref('')\r\n\r\n  // 定义不同角色可以访问的模块\r\n  const rolePermissions = {\r\n    admin: ['basic', 'product', 'purchase', 'sale', 'warehouse', 'system'],  // 管理员可以访问所有模块\r\n    supplier: ['basic', 'product', 'sale'],  // 供应商\r\n    distributor: ['basic', 'product', 'sale'],  // 经销商\r\n    retailer: ['basic', 'product', 'sale'],  // 零售商\r\n    user: ['sale']  // 普通用户只能访问销售模块\r\n  }\r\n\r\n  // 检查是否有权限访问某个模块\r\n  const hasPermission = (module) => {\r\n    if (!userRole.value || !rolePermissions[userRole.value]) {\r\n      return false\r\n    }\r\n    return rolePermissions[userRole.value].includes(module)\r\n  }\r\n\r\n  // 获取当前角色可访问的所有模块\r\n  const getAccessibleModules = () => {\r\n    return rolePermissions[userRole.value] || []\r\n  }\r\n\r\n  // 设置用户角色和用户名\r\n  const setUserInfo = (role, name) => {\r\n    userRole.value = role\r\n    username.value = name\r\n  }\r\n\r\n  return {\r\n    userRole,\r\n    username,\r\n    hasPermission,\r\n    getAccessibleModules,\r\n    setUserInfo\r\n  }\r\n}, {\r\n  persist: {\r\n    enabled: true,\r\n    strategies: [\r\n      {\r\n        storage: localStorage,\r\n        paths: ['userRole', 'username']\r\n      }\r\n    ]\r\n  }\r\n}) "],"mappings":";;AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,GAAG,QAAQ,KAAK;AAEzB,OAAO,IAAMC,YAAY,GAAGF,WAAW,CAAC,MAAM,EAAE,YAAM;EACpD,IAAMG,QAAQ,GAAGF,GAAG,CAAC,EAAE,CAAC;EACxB,IAAMG,QAAQ,GAAGH,GAAG,CAAC,EAAE,CAAC;;EAExB;EACA,IAAMI,eAAe,GAAG;IACtBC,KAAK,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,EAAE,WAAW,EAAE,QAAQ,CAAC;IAAG;IACzEC,QAAQ,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC;IAAG;IACzCC,WAAW,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC;IAAG;IAC5CC,QAAQ,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC;IAAG;IACzCC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAE;EAClB,CAAC;;EAED;EACA,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,MAAM,EAAK;IAChC,IAAI,CAACT,QAAQ,CAACU,KAAK,IAAI,CAACR,eAAe,CAACF,QAAQ,CAACU,KAAK,CAAC,EAAE;MACvD,OAAO,KAAK;IACd;IACA,OAAOR,eAAe,CAACF,QAAQ,CAACU,KAAK,CAAC,CAACC,QAAQ,CAACF,MAAM,CAAC;EACzD,CAAC;;EAED;EACA,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAA,EAAS;IACjC,OAAOV,eAAe,CAACF,QAAQ,CAACU,KAAK,CAAC,IAAI,EAAE;EAC9C,CAAC;;EAED;EACA,IAAMG,WAAW,GAAG,SAAdA,WAAWA,CAAIC,IAAI,EAAEC,IAAI,EAAK;IAClCf,QAAQ,CAACU,KAAK,GAAGI,IAAI;IACrBb,QAAQ,CAACS,KAAK,GAAGK,IAAI;EACvB,CAAC;EAED,OAAO;IACLf,QAAQ,EAARA,QAAQ;IACRC,QAAQ,EAARA,QAAQ;IACRO,aAAa,EAAbA,aAAa;IACbI,oBAAoB,EAApBA,oBAAoB;IACpBC,WAAW,EAAXA;EACF,CAAC;AACH,CAAC,EAAE;EACDG,OAAO,EAAE;IACPC,OAAO,EAAE,IAAI;IACbC,UAAU,EAAE,CACV;MACEC,OAAO,EAAEC,YAAY;MACrBC,KAAK,EAAE,CAAC,UAAU,EAAE,UAAU;IAChC,CAAC;EAEL;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}