{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport { ref, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nexport default {\n  __name: 'index',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var route = useRoute();\n    var router = useRouter();\n    var breadcrumbs = ref([]);\n    var getBreadcrumb = function getBreadcrumb() {\n      var matched = route.matched.filter(function (item) {\n        return item.meta && item.meta.title;\n      });\n      var first = matched[0];\n      if (!first || first.path !== '/dashboard') {\n        matched = [{\n          path: '/dashboard',\n          meta: {\n            title: '首页'\n          }\n        }].concat(matched);\n      }\n      breadcrumbs.value = matched;\n    };\n    var handleLink = function handleLink(item) {\n      var redirect = item.redirect,\n        path = item.path;\n      if (redirect) {\n        router.push(redirect);\n        return;\n      }\n      router.push(path);\n    };\n    watch(function () {\n      return route.path;\n    }, function () {\n      getBreadcrumb();\n    }, {\n      immediate: true\n    });\n    var __returned__ = {\n      route: route,\n      router: router,\n      breadcrumbs: breadcrumbs,\n      getBreadcrumb: getBreadcrumb,\n      handleLink: handleLink,\n      ref: ref,\n      watch: watch,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","useRoute","useRouter","route","router","breadcrumbs","getBreadcrumb","matched","filter","item","meta","title","first","path","concat","value","handleLink","redirect","push","immediate"],"sources":["C:/Users/indexae/Desktop/scm退货/scm/frontend/src/layout/components/Breadcrumb/index.vue"],"sourcesContent":["<template>\r\n  <el-breadcrumb class=\"app-breadcrumb\">\r\n    <transition-group name=\"breadcrumb\">\r\n      <el-breadcrumb-item v-for=\"(item, index) in breadcrumbs\" :key=\"item.path\">\r\n        <span \r\n          v-if=\"index === breadcrumbs.length - 1\" \r\n          class=\"no-redirect\">{{ item.meta?.title || item.title }}</span>\r\n        <a v-else @click.prevent=\"handleLink(item)\">{{ item.meta?.title || item.title }}</a>\r\n      </el-breadcrumb-item>\r\n    </transition-group>\r\n  </el-breadcrumb>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\nconst breadcrumbs = ref([])\r\n\r\nconst getBreadcrumb = () => {\r\n  let matched = route.matched.filter(item => item.meta && item.meta.title)\r\n  const first = matched[0]\r\n\r\n  if (!first || first.path !== '/dashboard') {\r\n    matched = [{ path: '/dashboard', meta: { title: '首页' } }].concat(matched)\r\n  }\r\n\r\n  breadcrumbs.value = matched\r\n}\r\n\r\nconst handleLink = (item) => {\r\n  const { redirect, path } = item\r\n  if (redirect) {\r\n    router.push(redirect)\r\n    return\r\n  }\r\n  router.push(path)\r\n}\r\n\r\nwatch(\r\n  () => route.path,\r\n  () => {\r\n    getBreadcrumb()\r\n  },\r\n  {\r\n    immediate: true\r\n  }\r\n)\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.app-breadcrumb {\r\n  display: inline-block;\r\n  font-size: 14px;\r\n  line-height: 50px;\r\n  margin-left: 8px;\r\n\r\n  .no-redirect {\r\n    color: #97a8be;\r\n    cursor: text;\r\n  }\r\n}\r\n\r\n.breadcrumb-enter-active,\r\n.breadcrumb-leave-active {\r\n  transition: all .5s;\r\n}\r\n\r\n.breadcrumb-enter-from,\r\n.breadcrumb-leave-active {\r\n  opacity: 0;\r\n  transform: translateX(20px);\r\n}\r\n\r\n.breadcrumb-leave-to {\r\n  opacity: 0;\r\n  transform: translateX(-20px);\r\n}\r\n</style> "],"mappings":";;;;;;;AAcA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAK;AAChC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,YAAY;;;;;;IAEhD,IAAMC,KAAK,GAAGF,QAAQ,CAAC,CAAC;IACxB,IAAMG,MAAM,GAAGF,SAAS,CAAC,CAAC;IAC1B,IAAMG,WAAW,GAAGN,GAAG,CAAC,EAAE,CAAC;IAE3B,IAAMO,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;MAC1B,IAAIC,OAAO,GAAGJ,KAAK,CAACI,OAAO,CAACC,MAAM,CAAC,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACC,IAAI,IAAID,IAAI,CAACC,IAAI,CAACC,KAAK;MAAA,EAAC;MACxE,IAAMC,KAAK,GAAGL,OAAO,CAAC,CAAC,CAAC;MAExB,IAAI,CAACK,KAAK,IAAIA,KAAK,CAACC,IAAI,KAAK,YAAY,EAAE;QACzCN,OAAO,GAAG,CAAC;UAAEM,IAAI,EAAE,YAAY;UAAEH,IAAI,EAAE;YAAEC,KAAK,EAAE;UAAK;QAAE,CAAC,CAAC,CAACG,MAAM,CAACP,OAAO,CAAC;MAC3E;MAEAF,WAAW,CAACU,KAAK,GAAGR,OAAO;IAC7B,CAAC;IAED,IAAMS,UAAU,GAAG,SAAbA,UAAUA,CAAIP,IAAI,EAAK;MAC3B,IAAQQ,QAAQ,GAAWR,IAAI,CAAvBQ,QAAQ;QAAEJ,IAAI,GAAKJ,IAAI,CAAbI,IAAI;MACtB,IAAII,QAAQ,EAAE;QACZb,MAAM,CAACc,IAAI,CAACD,QAAQ,CAAC;QACrB;MACF;MACAb,MAAM,CAACc,IAAI,CAACL,IAAI,CAAC;IACnB,CAAC;IAEDb,KAAK,CACH;MAAA,OAAMG,KAAK,CAACU,IAAI;IAAA,GAChB,YAAM;MACJP,aAAa,CAAC,CAAC;IACjB,CAAC,EACD;MACEa,SAAS,EAAE;IACb,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}