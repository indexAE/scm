{"ast":null,"code":"import \"core-js/modules/es.array.every.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.every.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { createRouter, createWebHashHistory } from 'vue-router';\nimport { hasPermission } from '@/utils/permission';\nimport Login from '../views/Login.vue';\nimport Register from '../views/Register.vue';\nimport Dashboard from '../views/Dashboard.vue';\nimport Home from '../views/Home.vue';\nimport UserManage from '../views/UserManage.vue';\nimport Profile from '../views/Profile.vue';\nimport SystemSettings from '../views/SystemSettings.vue';\nimport RoleManage from '../views/RoleManage.vue';\nimport OperationLog from '../views/OperationLog.vue';\nimport LoginLog from '../views/LoginLog.vue';\nimport SupplierManage from '../views/SupplierManage.vue';\nimport CustomerManage from '../views/CustomerManage.vue';\nvar routes = [{\n  path: '/',\n  redirect: '/login'\n}, {\n  path: '/login',\n  name: 'Login',\n  component: Login\n}, {\n  path: '/register',\n  name: 'Register',\n  component: Register\n}, {\n  path: '/dashboard',\n  name: 'Dashboard',\n  component: Dashboard,\n  children: [{\n    path: '',\n    name: 'Home',\n    component: Home,\n    meta: {\n      title: '首页',\n      icon: 'House'\n    }\n  }, {\n    path: 'users',\n    name: 'UserManage',\n    component: UserManage,\n    meta: {\n      title: '用户管理',\n      icon: 'User',\n      roles: ['管理员']\n    }\n  }, {\n    path: 'roles',\n    name: 'RoleManage',\n    component: RoleManage,\n    meta: {\n      title: '角色管理',\n      icon: 'Key',\n      roles: ['管理员']\n    }\n  }, {\n    path: 'profile',\n    name: 'Profile',\n    component: Profile,\n    meta: {\n      title: '个人信息',\n      icon: 'User'\n    }\n  }, {\n    path: 'settings',\n    name: 'SystemSettings',\n    component: SystemSettings,\n    meta: {\n      title: '系统设置',\n      icon: 'Setting',\n      roles: ['管理员']\n    }\n  }, {\n    path: 'operation-log',\n    name: 'OperationLog',\n    component: OperationLog,\n    meta: {\n      title: '操作日志',\n      icon: 'Document',\n      roles: ['管理员']\n    }\n  }, {\n    path: 'login-log',\n    name: 'LoginLog',\n    component: LoginLog,\n    meta: {\n      title: '登录日志',\n      icon: 'Document',\n      roles: ['管理员']\n    }\n  }, {\n    path: 'basic',\n    name: 'Basic',\n    component: function component() {\n      return import('@/views/basic/index.vue');\n    },\n    meta: {\n      title: '基础数据',\n      icon: 'DataLine',\n      roles: ['管理员', '供应商', '经销商', '分销商']\n    },\n    children: [{\n      path: 'dealers',\n      name: 'Dealers',\n      component: function component() {\n        return import('@/views/basic/dealer/index.vue');\n      },\n      meta: {\n        title: '经销商管理',\n        roles: ['管理员', '经销商']\n      }\n    }, {\n      path: 'retailers',\n      name: 'Retailers',\n      component: function component() {\n        return import('@/views/basic/retailer/index.vue');\n      },\n      meta: {\n        title: '零售商管理',\n        roles: ['管理员', '零售商']\n      }\n    }, {\n      path: 'supplier',\n      component: SupplierManage,\n      meta: {\n        title: '供应商管理',\n        roles: ['管理员', '供应商']\n      }\n    }, {\n      path: 'customer',\n      component: CustomerManage,\n      meta: {\n        title: '客户管理',\n        roles: ['管理员', '经销商']\n      }\n    }]\n  }, {\n    path: 'product',\n    name: 'Product',\n    component: function component() {\n      return import('@/views/product/index.vue');\n    },\n    meta: {\n      title: '商品管理',\n      icon: 'Goods',\n      roles: ['管理员', '供应商']\n    },\n    children: [{\n      path: 'info',\n      name: 'ProductInfo',\n      component: function component() {\n        return import('@/views/product/info/index.vue');\n      },\n      meta: {\n        title: '商品信息',\n        roles: ['管理员', '供应商']\n      }\n    }, {\n      path: 'category',\n      name: 'ProductCategory',\n      component: function component() {\n        return import('@/views/product/category/index.vue');\n      },\n      meta: {\n        title: '分类管理',\n        roles: ['管理员']\n      }\n    }]\n  }, {\n    path: 'purchase',\n    name: 'Purchase',\n    component: function component() {\n      return import('@/views/purchase/index.vue');\n    },\n    meta: {\n      title: '采购管理',\n      icon: 'ShoppingCart',\n      roles: ['管理员', '采购员']\n    },\n    children: [{\n      path: 'requisition',\n      name: 'PurchaseRequisition',\n      component: function component() {\n        return import('@/views/purchase/requisition/index.vue');\n      },\n      meta: {\n        title: '采购申请',\n        roles: ['管理员', '采购员']\n      }\n    }, {\n      path: 'order',\n      name: 'PurchaseOrder',\n      component: function component() {\n        return import('@/views/purchase/order/index.vue');\n      },\n      meta: {\n        title: '采购订单',\n        roles: ['管理员', '采购员']\n      }\n    }]\n  }]\n}, {\n  path: '/403',\n  component: function component() {\n    return import('@/views/error/403.vue');\n  },\n  hidden: true\n}];\nvar router = createRouter({\n  history: createWebHashHistory(),\n  routes: routes\n});\n\n// 路由守卫\nrouter.beforeEach(function (to, from, next) {\n  var userRoles = localStorage.getItem('userRoles');\n  var roles = userRoles ? JSON.parse(userRoles) : [];\n  if (to.matched.some(function (record) {\n    return record.meta.roles;\n  })) {\n    // 检查用户是否有权限访问该路由\n    if (to.matched.every(function (record) {\n      return hasPermission(record, roles);\n    })) {\n      next();\n    } else {\n      next('/403'); // 跳转到无权限页面\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHashHistory","hasPermission","Login","Register","Dashboard","Home","UserManage","Profile","SystemSettings","RoleManage","OperationLog","LoginLog","SupplierManage","CustomerManage","routes","path","redirect","name","component","children","meta","title","icon","roles","hidden","router","history","beforeEach","to","from","next","userRoles","localStorage","getItem","JSON","parse","matched","some","record","every"],"sources":["C:/Users/indexae/Desktop/scm退货/scm/frontend/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHashHistory } from 'vue-router'\nimport { hasPermission } from '@/utils/permission'\nimport Login from '../views/Login.vue'\nimport Register from '../views/Register.vue'\nimport Dashboard from '../views/Dashboard.vue'\nimport Home from '../views/Home.vue'\nimport UserManage from '../views/UserManage.vue'\nimport Profile from '../views/Profile.vue'\nimport SystemSettings from '../views/SystemSettings.vue'\nimport RoleManage from '../views/RoleManage.vue'\nimport OperationLog from '../views/OperationLog.vue'\nimport LoginLog from '../views/LoginLog.vue'\nimport SupplierManage from '../views/SupplierManage.vue'\nimport CustomerManage from '../views/CustomerManage.vue'\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/login'\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: Register\n  },\n  {\n    path: '/dashboard',\n    name: 'Dashboard',\n    component: Dashboard,\n    children: [\n      {\n        path: '',\n        name: 'Home',\n        component: Home,\n        meta: { title: '首页', icon: 'House' }\n      },\n      {\n        path: 'users',\n        name: 'UserManage',\n        component: UserManage,\n        meta: { title: '用户管理', icon: 'User', roles: ['管理员'] }\n      },\n      {\n        path: 'roles',\n        name: 'RoleManage',\n        component: RoleManage,\n        meta: { title: '角色管理', icon: 'Key', roles: ['管理员'] }\n      },\n      {\n        path: 'profile',\n        name: 'Profile',\n        component: Profile,\n        meta: { title: '个人信息', icon: 'User' }\n      },\n      {\n        path: 'settings',\n        name: 'SystemSettings',\n        component: SystemSettings,\n        meta: { title: '系统设置', icon: 'Setting', roles: ['管理员'] }\n      },\n      {\n        path: 'operation-log',\n        name: 'OperationLog',\n        component: OperationLog,\n        meta: { title: '操作日志', icon: 'Document', roles: ['管理员'] }\n      },\n      {\n        path: 'login-log',\n        name: 'LoginLog',\n        component: LoginLog,\n        meta: { title: '登录日志', icon: 'Document', roles: ['管理员'] }\n      },\n      {\n        path: 'basic',\n        name: 'Basic',\n        component: () => import('@/views/basic/index.vue'),\n        meta: { title: '基础数据', icon: 'DataLine', roles: ['管理员', '供应商', '经销商', '分销商'] },\n        children: [\n          {\n            path: 'dealers',\n            name: 'Dealers',\n            component: () => import('@/views/basic/dealer/index.vue'),\n            meta: { title: '经销商管理', roles: ['管理员', '经销商'] }\n          },\n          {\n            path: 'retailers',\n            name: 'Retailers',\n            component: () => import('@/views/basic/retailer/index.vue'),\n            meta: { title: '零售商管理', roles: ['管理员', '零售商'] }\n          },\n          {\n            path: 'supplier',\n            component: SupplierManage,\n            meta: { title: '供应商管理', roles: ['管理员', '供应商'] }\n          },\n          {\n            path: 'customer',\n            component: CustomerManage,\n            meta: { title: '客户管理', roles: ['管理员', '经销商'] }\n          }\n        ]\n      },\n      {\n        path: 'product',\n        name: 'Product',\n        component: () => import('@/views/product/index.vue'),\n        meta: { title: '商品管理', icon: 'Goods', roles: ['管理员', '供应商'] },\n        children: [\n          {\n            path: 'info',\n            name: 'ProductInfo',\n            component: () => import('@/views/product/info/index.vue'),\n            meta: { title: '商品信息', roles: ['管理员', '供应商'] }\n          },\n          {\n            path: 'category',\n            name: 'ProductCategory',\n            component: () => import('@/views/product/category/index.vue'),\n            meta: { title: '分类管理', roles: ['管理员'] }\n          }\n        ]\n      },\n      {\n        path: 'purchase',\n        name: 'Purchase',\n        component: () => import('@/views/purchase/index.vue'),\n        meta: { title: '采购管理', icon: 'ShoppingCart', roles: ['管理员', '采购员'] },\n        children: [\n          {\n            path: 'requisition',\n            name: 'PurchaseRequisition',\n            component: () => import('@/views/purchase/requisition/index.vue'),\n            meta: { title: '采购申请', roles: ['管理员', '采购员'] }\n          },\n          {\n            path: 'order',\n            name: 'PurchaseOrder',\n            component: () => import('@/views/purchase/order/index.vue'),\n            meta: { title: '采购订单', roles: ['管理员', '采购员'] }\n          }\n        ]\n      }\n    ]\n  },\n  {\n    path: '/403',\n    component: () => import('@/views/error/403.vue'),\n    hidden: true\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\n// 路由守卫\nrouter.beforeEach((to, from, next) => {\n  const userRoles = localStorage.getItem('userRoles')\n  const roles = userRoles ? JSON.parse(userRoles) : []\n  \n  if (to.matched.some(record => record.meta.roles)) {\n    // 检查用户是否有权限访问该路由\n    if (to.matched.every(record => hasPermission(record, roles))) {\n      next()\n    } else {\n      next('/403') // 跳转到无权限页面\n    }\n  } else {\n    next()\n  }\n})\n\nexport default router "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}