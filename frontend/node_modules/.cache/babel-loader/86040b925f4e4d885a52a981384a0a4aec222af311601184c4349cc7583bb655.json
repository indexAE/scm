{"ast":null,"code":"import \"core-js/modules/es.object.define-property.js\";\nimport { computed, onMounted, onBeforeUnmount } from 'vue';\nimport { useSettingsStore } from '@/stores/settings';\nimport Sidebar from './components/Sidebar/index.vue';\nimport Navbar from './components/Navbar.vue';\nimport TagsView from './components/TagsView/index.vue';\nimport AppMain from './components/AppMain.vue';\nimport Settings from './components/Settings/index.vue';\nvar WIDTH = 992;\nexport default {\n  __name: 'index',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var settingsStore = useSettingsStore();\n\n    // 布局相关\n    var showSidebar = computed(function () {\n      return settingsStore.layout === 'left';\n    });\n    var fixedHeader = computed(function () {\n      return settingsStore.fixedHeader;\n    });\n    var showTagsView = computed(function () {\n      return settingsStore.tagsView;\n    });\n\n    // 移动端适配\n    var isMobile = ref(false);\n    var resizeHandler = function resizeHandler() {\n      isMobile.value = window.innerWidth < WIDTH;\n    };\n    onMounted(function () {\n      resizeHandler();\n      window.addEventListener('resize', resizeHandler);\n    });\n    onBeforeUnmount(function () {\n      window.removeEventListener('resize', resizeHandler);\n    });\n    var __returned__ = {\n      settingsStore: settingsStore,\n      showSidebar: showSidebar,\n      fixedHeader: fixedHeader,\n      showTagsView: showTagsView,\n      isMobile: isMobile,\n      WIDTH: WIDTH,\n      resizeHandler: resizeHandler,\n      computed: computed,\n      onMounted: onMounted,\n      onBeforeUnmount: onBeforeUnmount,\n      get useSettingsStore() {\n        return useSettingsStore;\n      },\n      Sidebar: Sidebar,\n      Navbar: Navbar,\n      TagsView: TagsView,\n      AppMain: AppMain,\n      Settings: Settings\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","onMounted","onBeforeUnmount","useSettingsStore","Sidebar","Navbar","TagsView","AppMain","Settings","WIDTH","settingsStore","showSidebar","layout","fixedHeader","showTagsView","tagsView","isMobile","ref","resizeHandler","value","window","innerWidth","addEventListener","removeEventListener"],"sources":["C:/Users/indexae/Desktop/scm退货/scm/frontend/src/layout/index.vue"],"sourcesContent":["<template>\r\n  <div \r\n    :class=\"[\r\n      'app-wrapper',\r\n      {\r\n        'mobile': isMobile,\r\n        'hide-sidebar': !showSidebar,\r\n        'fixed-header': fixedHeader\r\n      }\r\n    ]\">\r\n    <sidebar \r\n      v-if=\"showSidebar\" \r\n      class=\"sidebar-container\" />\r\n    \r\n    <div class=\"main-container\">\r\n      <div :class=\"{'fixed-header': fixedHeader}\">\r\n        <navbar />\r\n        <tags-view v-if=\"showTagsView\" />\r\n      </div>\r\n      <app-main />\r\n      <settings />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, onMounted, onBeforeUnmount } from 'vue'\r\nimport { useSettingsStore } from '@/stores/settings'\r\nimport Sidebar from './components/Sidebar/index.vue'\r\nimport Navbar from './components/Navbar.vue'\r\nimport TagsView from './components/TagsView/index.vue'\r\nimport AppMain from './components/AppMain.vue'\r\nimport Settings from './components/Settings/index.vue'\r\n\r\nconst settingsStore = useSettingsStore()\r\n\r\n// 布局相关\r\nconst showSidebar = computed(() => settingsStore.layout === 'left')\r\nconst fixedHeader = computed(() => settingsStore.fixedHeader)\r\nconst showTagsView = computed(() => settingsStore.tagsView)\r\n\r\n// 移动端适配\r\nconst isMobile = ref(false)\r\nconst WIDTH = 992\r\n\r\nconst resizeHandler = () => {\r\n  isMobile.value = window.innerWidth < WIDTH\r\n}\r\n\r\nonMounted(() => {\r\n  resizeHandler()\r\n  window.addEventListener('resize', resizeHandler)\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  window.removeEventListener('resize', resizeHandler)\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.app-wrapper {\r\n  position: relative;\r\n  height: 100vh;\r\n  width: 100%;\r\n  \r\n  &.mobile {\r\n    .sidebar-container {\r\n      transition: transform .3s;\r\n      width: 210px !important;\r\n    }\r\n    \r\n    &.hide-sidebar {\r\n      .sidebar-container {\r\n        pointer-events: none;\r\n        transition-duration: .3s;\r\n        transform: translate3d(-210px, 0, 0);\r\n      }\r\n    }\r\n  }\r\n  \r\n  .sidebar-container {\r\n    transition: width .3s;\r\n    width: 210px !important;\r\n    height: 100%;\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: 1001;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .main-container {\r\n    min-height: 100%;\r\n    transition: margin-left .3s;\r\n    margin-left: 210px;\r\n    position: relative;\r\n    \r\n    .fixed-header {\r\n      position: fixed;\r\n      top: 0;\r\n      right: 0;\r\n      z-index: 9;\r\n      width: calc(100% - 210px);\r\n      transition: width .3s;\r\n    }\r\n  }\r\n  \r\n  &.hide-sidebar {\r\n    .main-container {\r\n      margin-left: 54px;\r\n    }\r\n    \r\n    .fixed-header {\r\n      width: calc(100% - 54px);\r\n    }\r\n  }\r\n}\r\n</style> "],"mappings":";AA0BA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,eAAe,QAAQ,KAAK;AAC1D,SAASC,gBAAgB,QAAQ,mBAAmB;AACpD,OAAOC,OAAO,MAAM,gCAAgC;AACpD,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,QAAQ,MAAM,iCAAiC;AACtD,OAAOC,OAAO,MAAM,0BAA0B;AAC9C,OAAOC,QAAQ,MAAM,iCAAiC;AAWtD,IAAMC,KAAK,GAAG,GAAG;;;;;;IATjB,IAAMC,aAAa,GAAGP,gBAAgB,CAAC,CAAC;;IAExC;IACA,IAAMQ,WAAW,GAAGX,QAAQ,CAAC;MAAA,OAAMU,aAAa,CAACE,MAAM,KAAK,MAAM;IAAA,EAAC;IACnE,IAAMC,WAAW,GAAGb,QAAQ,CAAC;MAAA,OAAMU,aAAa,CAACG,WAAW;IAAA,EAAC;IAC7D,IAAMC,YAAY,GAAGd,QAAQ,CAAC;MAAA,OAAMU,aAAa,CAACK,QAAQ;IAAA,EAAC;;IAE3D;IACA,IAAMC,QAAQ,GAAGC,GAAG,CAAC,KAAK,CAAC;IAG3B,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;MAC1BF,QAAQ,CAACG,KAAK,GAAGC,MAAM,CAACC,UAAU,GAAGZ,KAAK;IAC5C,CAAC;IAEDR,SAAS,CAAC,YAAM;MACdiB,aAAa,CAAC,CAAC;MACfE,MAAM,CAACE,gBAAgB,CAAC,QAAQ,EAAEJ,aAAa,CAAC;IAClD,CAAC,CAAC;IAEFhB,eAAe,CAAC,YAAM;MACpBkB,MAAM,CAACG,mBAAmB,CAAC,QAAQ,EAAEL,aAAa,CAAC;IACrD,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}