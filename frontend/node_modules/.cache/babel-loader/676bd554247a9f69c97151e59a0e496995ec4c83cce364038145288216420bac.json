{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"customer-container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"header\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_input = _resolveComponent(\"el-input\");\n  var _component_el_form_item = _resolveComponent(\"el-form-item\");\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_el_form = _resolveComponent(\"el-form\");\n  var _component_el_table_column = _resolveComponent(\"el-table-column\");\n  var _component_el_tag = _resolveComponent(\"el-tag\");\n  var _component_el_button_group = _resolveComponent(\"el-button-group\");\n  var _component_el_table = _resolveComponent(\"el-table\");\n  var _component_el_pagination = _resolveComponent(\"el-pagination\");\n  var _component_el_radio = _resolveComponent(\"el-radio\");\n  var _component_el_radio_group = _resolveComponent(\"el-radio-group\");\n  var _component_el_dialog = _resolveComponent(\"el-dialog\");\n  var _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_form, {\n    inline: true,\n    model: $setup.queryParams,\n    \"class\": \"search-form\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_form_item, {\n        label: \"客户名称\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_input, {\n            modelValue: $setup.queryParams.name,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n              return $setup.queryParams.name = $event;\n            }),\n            placeholder: \"请输入客户名称\",\n            clearable: \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"联系电话\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_input, {\n            modelValue: $setup.queryParams.phone,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n              return $setup.queryParams.phone = $event;\n            }),\n            placeholder: \"请输入联系电话\",\n            clearable: \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, null, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: $setup.handleQuery\n          }, {\n            \"default\": _withCtx(function () {\n              return _cache[13] || (_cache[13] = [_createTextVNode(\"查询\")]);\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_button, {\n            onClick: $setup.resetQuery\n          }, {\n            \"default\": _withCtx(function () {\n              return _cache[14] || (_cache[14] = [_createTextVNode(\"重置\")]);\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\"]), $setup.hasPermission('basic', 'add') ? (_openBlock(), _createBlock(_component_el_button, {\n    key: 0,\n    type: \"primary\",\n    onClick: $setup.handleAdd\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[15] || (_cache[15] = [_createTextVNode(\"新增客户\")]);\n    }),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)]), _withDirectives((_openBlock(), _createBlock(_component_el_table, {\n    data: $setup.customerList\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_table_column, {\n        type: \"index\",\n        label: \"序号\",\n        width: \"50\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"name\",\n        label: \"客户名称\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"contact\",\n        label: \"联系人\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"phone\",\n        label: \"联系电话\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"address\",\n        label: \"地址\",\n        \"show-overflow-tooltip\": \"\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"email\",\n        label: \"邮箱\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"type\",\n        label: \"客户类型\"\n      }, {\n        \"default\": _withCtx(function (_ref) {\n          var row = _ref.row;\n          return [_createVNode(_component_el_tag, {\n            type: row.type === 1 ? 'success' : 'warning'\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createTextVNode(_toDisplayString(row.type === 1 ? '个人' : '企业'), 1 /* TEXT */)];\n            }),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"status\",\n        label: \"状态\"\n      }, {\n        \"default\": _withCtx(function (_ref2) {\n          var row = _ref2.row;\n          return [_createVNode(_component_el_tag, {\n            type: row.status === 1 ? 'success' : 'danger'\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createTextVNode(_toDisplayString(row.status === 1 ? '启用' : '禁用'), 1 /* TEXT */)];\n            }),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"200\",\n        fixed: \"right\"\n      }, {\n        \"default\": _withCtx(function (_ref3) {\n          var row = _ref3.row;\n          return [_createVNode(_component_el_button_group, null, {\n            \"default\": _withCtx(function () {\n              return [$setup.hasPermission('basic', 'edit') ? (_openBlock(), _createBlock(_component_el_button, {\n                key: 0,\n                type: \"primary\",\n                link: \"\",\n                onClick: function onClick($event) {\n                  return $setup.handleEdit(row);\n                }\n              }, {\n                \"default\": _withCtx(function () {\n                  return _cache[16] || (_cache[16] = [_createTextVNode(\"编辑\")]);\n                }),\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true), $setup.hasPermission('basic', 'delete') ? (_openBlock(), _createBlock(_component_el_button, {\n                key: 1,\n                type: \"primary\",\n                link: \"\",\n                onClick: function onClick($event) {\n                  return $setup.handleDelete(row);\n                }\n              }, {\n                \"default\": _withCtx(function () {\n                  return _cache[17] || (_cache[17] = [_createTextVNode(\"删除\")]);\n                }),\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true)];\n            }),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"])), [[_directive_loading, $setup.loading]]), _createVNode(_component_el_pagination, {\n    \"current-page\": $setup.queryParams.pageNum,\n    \"onUpdate:currentPage\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.queryParams.pageNum = $event;\n    }),\n    \"page-size\": $setup.queryParams.pageSize,\n    \"onUpdate:pageSize\": _cache[3] || (_cache[3] = function ($event) {\n      return $setup.queryParams.pageSize = $event;\n    }),\n    total: $setup.total,\n    \"page-sizes\": [10, 20, 30, 50],\n    layout: \"total, sizes, prev, pager, next, jumper\",\n    onSizeChange: $setup.handleSizeChange,\n    onCurrentChange: $setup.handleCurrentChange\n  }, null, 8 /* PROPS */, [\"current-page\", \"page-size\", \"total\"]), _createCommentVNode(\" 添加/编辑对话框 \"), _createVNode(_component_el_dialog, {\n    title: $setup.dialog.title,\n    modelValue: $setup.dialog.visible,\n    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = function ($event) {\n      return $setup.dialog.visible = $event;\n    }),\n    width: \"500px\",\n    onClose: $setup.handleDialogClose\n  }, {\n    footer: _withCtx(function () {\n      return [_createVNode(_component_el_button, {\n        onClick: _cache[11] || (_cache[11] = function ($event) {\n          return $setup.dialog.visible = false;\n        })\n      }, {\n        \"default\": _withCtx(function () {\n          return _cache[22] || (_cache[22] = [_createTextVNode(\"取 消\")]);\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.handleSubmit\n      }, {\n        \"default\": _withCtx(function () {\n          return _cache[23] || (_cache[23] = [_createTextVNode(\"确 定\")]);\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_form, {\n        ref: \"formRef\",\n        model: $setup.form,\n        rules: $setup.rules,\n        \"label-width\": \"100px\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_form_item, {\n            label: \"客户名称\",\n            prop: \"name\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.form.name,\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n                  return $setup.form.name = $event;\n                }),\n                placeholder: \"请输入客户名称\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"客户类型\",\n            prop: \"type\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_radio_group, {\n                modelValue: $setup.form.type,\n                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = function ($event) {\n                  return $setup.form.type = $event;\n                })\n              }, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_el_radio, {\n                    label: 1\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[18] || (_cache[18] = [_createTextVNode(\"个人\")]);\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_el_radio, {\n                    label: 2\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[19] || (_cache[19] = [_createTextVNode(\"企业\")]);\n                    }),\n                    _: 1 /* STABLE */\n                  })];\n                }),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"联系人\",\n            prop: \"contact\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.form.contact,\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = function ($event) {\n                  return $setup.form.contact = $event;\n                }),\n                placeholder: \"请输入联系人\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"联系电话\",\n            prop: \"phone\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.form.phone,\n                \"onUpdate:modelValue\": _cache[7] || (_cache[7] = function ($event) {\n                  return $setup.form.phone = $event;\n                }),\n                placeholder: \"请输入联系电话\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"邮箱\",\n            prop: \"email\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.form.email,\n                \"onUpdate:modelValue\": _cache[8] || (_cache[8] = function ($event) {\n                  return $setup.form.email = $event;\n                }),\n                placeholder: \"请输入邮箱\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"地址\",\n            prop: \"address\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_input, {\n                modelValue: $setup.form.address,\n                \"onUpdate:modelValue\": _cache[9] || (_cache[9] = function ($event) {\n                  return $setup.form.address = $event;\n                }),\n                type: \"textarea\",\n                placeholder: \"请输入地址\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"状态\",\n            prop: \"status\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_el_radio_group, {\n                modelValue: $setup.form.status,\n                \"onUpdate:modelValue\": _cache[10] || (_cache[10] = function ($event) {\n                  return $setup.form.status = $event;\n                })\n              }, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_el_radio, {\n                    label: 1\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[20] || (_cache[20] = [_createTextVNode(\"启用\")]);\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_el_radio, {\n                    label: 0\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[21] || (_cache[21] = [_createTextVNode(\"禁用\")]);\n                    }),\n                    _: 1 /* STABLE */\n                  })];\n                }),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"modelValue\"])];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\"])];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"title\", \"modelValue\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_form","inline","model","$setup","queryParams","_withCtx","_component_el_form_item","label","_component_el_input","modelValue","name","_cache","$event","placeholder","clearable","_","phone","_component_el_button","type","onClick","handleQuery","_createTextVNode","resetQuery","hasPermission","_createBlock","key","handleAdd","_createCommentVNode","_component_el_table","data","customerList","_component_el_table_column","width","prop","_ref","row","_component_el_tag","_toDisplayString","_ref2","status","fixed","_ref3","_component_el_button_group","link","handleEdit","handleDelete","loading","_component_el_pagination","pageNum","pageSize","total","layout","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","_component_el_dialog","title","dialog","visible","onClose","handleDialogClose","footer","handleSubmit","ref","form","rules","_component_el_radio_group","_component_el_radio","contact","email","address"],"sources":["C:\\Users\\indexae\\Desktop\\scm退货\\scm\\frontend\\src\\views\\basic\\customer\\index.vue"],"sourcesContent":["<template>\r\n  <div class=\"customer-container\">\r\n    <div class=\"header\">\r\n      <el-form :inline=\"true\" :model=\"queryParams\" class=\"search-form\">\r\n        <el-form-item label=\"客户名称\">\r\n          <el-input v-model=\"queryParams.name\" placeholder=\"请输入客户名称\" clearable />\r\n        </el-form-item>\r\n        <el-form-item label=\"联系电话\">\r\n          <el-input v-model=\"queryParams.phone\" placeholder=\"请输入联系电话\" clearable />\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleQuery\">查询</el-button>\r\n          <el-button @click=\"resetQuery\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-button type=\"primary\" @click=\"handleAdd\" v-if=\"hasPermission('basic', 'add')\">新增客户</el-button>\r\n    </div>\r\n\r\n    <el-table v-loading=\"loading\" :data=\"customerList\">\r\n      <el-table-column type=\"index\" label=\"序号\" width=\"50\" />\r\n      <el-table-column prop=\"name\" label=\"客户名称\" />\r\n      <el-table-column prop=\"contact\" label=\"联系人\" />\r\n      <el-table-column prop=\"phone\" label=\"联系电话\" />\r\n      <el-table-column prop=\"address\" label=\"地址\" show-overflow-tooltip />\r\n      <el-table-column prop=\"email\" label=\"邮箱\" />\r\n      <el-table-column prop=\"type\" label=\"客户类型\">\r\n        <template #default=\"{ row }\">\r\n          <el-tag :type=\"row.type === 1 ? 'success' : 'warning'\">\r\n            {{ row.type === 1 ? '个人' : '企业' }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"status\" label=\"状态\">\r\n        <template #default=\"{ row }\">\r\n          <el-tag :type=\"row.status === 1 ? 'success' : 'danger'\">\r\n            {{ row.status === 1 ? '启用' : '禁用' }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"200\" fixed=\"right\">\r\n        <template #default=\"{ row }\">\r\n          <el-button-group>\r\n            <el-button type=\"primary\" link @click=\"handleEdit(row)\" v-if=\"hasPermission('basic', 'edit')\">编辑</el-button>\r\n            <el-button type=\"primary\" link @click=\"handleDelete(row)\" v-if=\"hasPermission('basic', 'delete')\">删除</el-button>\r\n          </el-button-group>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-pagination\r\n      v-model:current-page=\"queryParams.pageNum\"\r\n      v-model:page-size=\"queryParams.pageSize\"\r\n      :total=\"total\"\r\n      :page-sizes=\"[10, 20, 30, 50]\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n    />\r\n\r\n    <!-- 添加/编辑对话框 -->\r\n    <el-dialog\r\n      :title=\"dialog.title\"\r\n      v-model=\"dialog.visible\"\r\n      width=\"500px\"\r\n      @close=\"handleDialogClose\"\r\n    >\r\n      <el-form ref=\"formRef\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\r\n        <el-form-item label=\"客户名称\" prop=\"name\">\r\n          <el-input v-model=\"form.name\" placeholder=\"请输入客户名称\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"客户类型\" prop=\"type\">\r\n          <el-radio-group v-model=\"form.type\">\r\n            <el-radio :label=\"1\">个人</el-radio>\r\n            <el-radio :label=\"2\">企业</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系人\" prop=\"contact\">\r\n          <el-input v-model=\"form.contact\" placeholder=\"请输入联系人\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"联系电话\" prop=\"phone\">\r\n          <el-input v-model=\"form.phone\" placeholder=\"请输入联系电话\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"form.email\" placeholder=\"请输入邮箱\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"地址\" prop=\"address\">\r\n          <el-input v-model=\"form.address\" type=\"textarea\" placeholder=\"请输入地址\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\" prop=\"status\">\r\n          <el-radio-group v-model=\"form.status\">\r\n            <el-radio :label=\"1\">启用</el-radio>\r\n            <el-radio :label=\"0\">禁用</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <el-button @click=\"dialog.visible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleSubmit\">确 定</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { usePermissionStore } from '@/stores/permission'\r\n\r\nconst permissionStore = usePermissionStore()\r\nconst hasPermission = permissionStore.hasPermission\r\n\r\n// 查询参数\r\nconst queryParams = reactive({\r\n  pageNum: 1,\r\n  pageSize: 10,\r\n  name: '',\r\n  phone: ''\r\n})\r\n\r\n// 客户列表数据\r\nconst customerList = ref([])\r\nconst total = ref(0)\r\nconst loading = ref(false)\r\n\r\n// 对话框控制\r\nconst dialog = reactive({\r\n  visible: false,\r\n  title: ''\r\n})\r\n\r\n// 表单数据\r\nconst formRef = ref(null)\r\nconst form = reactive({\r\n  id: undefined,\r\n  name: '',\r\n  type: 1,\r\n  contact: '',\r\n  phone: '',\r\n  email: '',\r\n  address: '',\r\n  status: 1\r\n})\r\n\r\n// 表单校验规则\r\nconst rules = {\r\n  name: [\r\n    { required: true, message: '请输入客户名称', trigger: 'blur' },\r\n    { min: 2, max: 50, message: '长度在 2 到 50 个字符', trigger: 'blur' }\r\n  ],\r\n  type: [\r\n    { required: true, message: '请选择客户类型', trigger: 'change' }\r\n  ],\r\n  contact: [\r\n    { required: true, message: '请输入联系人', trigger: 'blur' }\r\n  ],\r\n  phone: [\r\n    { required: true, message: '请输入联系电话', trigger: 'blur' },\r\n    { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号码', trigger: 'blur' }\r\n  ],\r\n  email: [\r\n    { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' }\r\n  ],\r\n  status: [\r\n    { required: true, message: '请选择状态', trigger: 'change' }\r\n  ]\r\n}\r\n\r\n// 查询列表数据\r\nconst getList = async () => {\r\n  loading.value = true\r\n  try {\r\n    const response = await fetch(`/api/basic/customer/list?pageNum=${queryParams.pageNum}&pageSize=${queryParams.pageSize}&name=${queryParams.name}&phone=${queryParams.phone}`)\r\n    const res = await response.json()\r\n    if (res.code === 0) {\r\n      customerList.value = res.data.list\r\n      total.value = res.data.total\r\n    }\r\n  } catch (error) {\r\n    console.error('获取客户列表失败:', error)\r\n    ElMessage.error('获取客户列表失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 查询按钮点击\r\nconst handleQuery = () => {\r\n  queryParams.pageNum = 1\r\n  getList()\r\n}\r\n\r\n// 重置查询\r\nconst resetQuery = () => {\r\n  queryParams.name = ''\r\n  queryParams.phone = ''\r\n  handleQuery()\r\n}\r\n\r\n// 新增按钮点击\r\nconst handleAdd = () => {\r\n  dialog.title = '新增客户'\r\n  dialog.visible = true\r\n  form.id = undefined\r\n  form.name = ''\r\n  form.type = 1\r\n  form.contact = ''\r\n  form.phone = ''\r\n  form.email = ''\r\n  form.address = ''\r\n  form.status = 1\r\n}\r\n\r\n// 编辑按钮点击\r\nconst handleEdit = (row) => {\r\n  dialog.title = '编辑客户'\r\n  dialog.visible = true\r\n  Object.assign(form, row)\r\n}\r\n\r\n// 删除按钮点击\r\nconst handleDelete = (row) => {\r\n  ElMessageBox.confirm('确认要删除该客户吗？', '警告', {\r\n    type: 'warning'\r\n  }).then(async () => {\r\n    try {\r\n      const response = await fetch(`/api/basic/customer/${row.id}`, {\r\n        method: 'DELETE'\r\n      })\r\n      const res = await response.json()\r\n      if (res.code === 0) {\r\n        ElMessage.success('删除成功')\r\n        getList()\r\n      }\r\n    } catch (error) {\r\n      console.error('删除客户失败:', error)\r\n      ElMessage.error('删除客户失败')\r\n    }\r\n  })\r\n}\r\n\r\n// 提交表单\r\nconst handleSubmit = async () => {\r\n  if (!formRef.value) return\r\n  await formRef.value.validate(async (valid) => {\r\n    if (valid) {\r\n      try {\r\n        const url = form.id ? `/api/basic/customer/${form.id}` : '/api/basic/customer'\r\n        const method = form.id ? 'PUT' : 'POST'\r\n        const response = await fetch(url, {\r\n          method,\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(form)\r\n        })\r\n        const res = await response.json()\r\n        if (res.code === 0) {\r\n          ElMessage.success(form.id ? '修改成功' : '新增成功')\r\n          dialog.visible = false\r\n          getList()\r\n        }\r\n      } catch (error) {\r\n        console.error('保存客户失败:', error)\r\n        ElMessage.error('保存客户失败')\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// 对话框关闭\r\nconst handleDialogClose = () => {\r\n  if (formRef.value) {\r\n    formRef.value.resetFields()\r\n  }\r\n}\r\n\r\n// 分页大小改变\r\nconst handleSizeChange = (val) => {\r\n  queryParams.pageSize = val\r\n  getList()\r\n}\r\n\r\n// 页码改变\r\nconst handleCurrentChange = (val) => {\r\n  queryParams.pageNum = val\r\n  getList()\r\n}\r\n\r\n// 初始化\r\ngetList()\r\n</script>\r\n\r\n<style scoped>\r\n.customer-container {\r\n  padding: 20px;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-form {\r\n  flex: 1;\r\n}\r\n\r\n.el-pagination {\r\n  margin-top: 20px;\r\n  justify-content: flex-end;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}